.navbar-dark .offcanvas-header .btn-close {
  @extend .btn-close-white;
}

.navbar-light,
.navbar-dark {
  & .navbar-nav .nav-link,
  & .navbar-nav .nav-link.active {
    color: var(--cm-primary-contrast);
  }

  & .navbar-brand:hover,
  & .navbar-nav .nav-link:hover {
    color: rgba(var(--cm-primary-contrast-rgb), .75);
  }
}

.navbar-nav .nav-link.active:before,
.navbar-nav .dropdown-item.active:before {
  content: '\FE0E\2665';
  font-family: monospace !important;
  opacity: var(--cm-navigation-active-icon-opacity);
  font-size: map-get($font-sizes, 4);
  position: absolute;
  left: -.7rem;
  line-height: map-get($font-sizes, 4);

  @include media-breakpoint-down(lg) {
    color: var(--bs-light);
    opacity: var(--cm-navigation-offcanvas-active-icon-opacity);
  }
}

.navbar .offcanvas.show .offcanvas-body .navbar-nav .nav-link {
  color: var(--bs-body-color);
}


.navbar .offcanvas.show .offcanvas-body .navbar-nav {
  .dropdown-menu,
  .dropdown-item,
  .dropdown-item.active,
  .dropdown-item:hover {
    background-color: var(--bs-body-color-bg);
    color: var(--bs-body-color)
  }

  .dropdown-item {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

.navbar-nav {

  .dropdown-menu {
    background-color: $navbar-dropdown-bg;
    box-shadow: $navbar-dropdown-box-shadow;
  }

  .dropdown-item {
    color: $navbar-dropdown-link-color;

    &:hover {
      background-color: $navbar-dropdown-link-hover-bg;
      color: $navbar-dropdown-link-hover-color;
    }

    &.active {
      background-color: $navbar-dropdown-link-active-bg;
      color: $navbar-dropdown-link-active-color;

      &:before {
        left: map-get($spacers, 2);
      }
    }
  }

  .nav-link:hover {
    cursor: pointer;
  }
}

.navbar-nav.nav-pipe {

  @each $breakpoint in map-keys($grid-breakpoints) {
    $next: breakpoint-next($breakpoint, $grid-breakpoints);
    $infix: breakpoint-infix($next, $grid-breakpoints);

    &#{$infix} {
      @include media-breakpoint-up($next) {
        .nav-item {

          display: flex;
          align-items: baseline;

          &:after {
            content: '|';
            line-height: 1.2em;
            font-size: 1.25rem;
            font-weight: lighter;
            color: $navbar-link-color;
          }

          &:last-child:after {
            display: none;
          }
        }
      }

    }

  }
}